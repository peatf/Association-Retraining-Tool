import{u as j,r as s,j as e,S as P,E as v,B as y}from"./main-ChZ8bRsW.js";import{c as E}from"./ContentSearchService-DqsTnI7q.js";const b=({onComplete:m})=>{const{canvasState:n,updateCanvasState:p}=j(),[r,d]=s.useState([]),[u,a]=s.useState(!0),[i,g]=s.useState(null),[c,x]=s.useState(""),[h,l]=s.useState(0);s.useEffect(()=>{const t=async()=>{try{a(!0);const o=await E.getMiningPrompts(n.selectedTopic||"","commonGround");d(o),a(!1)}catch(o){g(o instanceof Error?o:new Error("Unknown error")),a(!1)}};n.selectedTopic&&t()},[n.selectedTopic]);const f=()=>{p({miningResults:{...n.miningResults,commonGround:{reflection:c,timestamp:new Date().toISOString()}}}),m()};if(u)return e.jsx(P,{message:"Loading prompts..."});if(i)return e.jsx(v,{title:"Error loading prompts",message:i.message});const S=()=>{l(t=>(t+1)%r.length)},C=()=>{l(t=>(t-1+r.length)%r.length)};return e.jsx(y,{title:"Find Common Ground",onComplete:f,completionText:"Continue",children:e.jsxs("div",{style:{padding:"1rem"},children:[e.jsx("p",{children:r[h]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"1rem"},children:[e.jsx("button",{className:"btn-secondary",onClick:C,children:"Previous"}),e.jsx("button",{className:"btn-secondary",onClick:S,children:"Next"})]}),e.jsx("textarea",{value:c,onChange:t=>x(t.target.value),placeholder:"Your reflections...",style:{width:"100%",minHeight:"100px",marginTop:"1rem"}})]})})};export{b as default};
//# sourceMappingURL=CardCommonGround-DfIc8Rcp.js.map
