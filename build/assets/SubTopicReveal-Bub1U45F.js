import{r as e,j as r,S as m,E as d}from"./main-ChZ8bRsW.js";import{c as x}from"./ContentSearchService-DqsTnI7q.js";const S=({selectedCategory:s,onSubTopicSelect:u,selectedSubTopic:b})=>{const[i,t]=e.useState([]),[f,o]=e.useState(!1),[p,l]=e.useState(null);e.useEffect(()=>{(async()=>{if(!s){t([]);return}try{o(!0),l(null);const a=await x.getSubcategories(s);t(a),a.length===0&&console.warn(`No subcategories found for ${s}`)}catch(a){console.error("Error loading subcategories:",a),l(a instanceof Error?a.message:"Unknown error"),t([])}finally{o(!1)}})()},[s]);const c=n=>{u&&u(n)};if(!s)return null;if(f)return r.jsx(m,{message:`Loading subcategories for ${s}...`,"aria-label":`Loading subcategories for ${s}`});const h=()=>{l(null),o(!0)};return p?r.jsx(d,{title:`Error loading subcategories for ${s}`,message:p,onRetry:h,retryText:"Try Again"}):i.length===0?r.jsxs("div",{className:"subtopic-reveal empty",children:[r.jsx("h3",{children:s}),r.jsx("p",{children:"No specific subcategories available. You can continue with the general category."}),r.jsxs("button",{className:"btn-primary",onClick:()=>c(null),children:["Continue with ",s]})]}):r.jsxs("div",{className:"subtopic-reveal",children:[r.jsxs("h3",{children:["Choose a specific area within ",s,":"]}),r.jsxs("div",{className:"subtopic-buttons",children:[i.map((n,a)=>r.jsx("button",{className:`btn-primary subtopic-button subtopic-${n.toLowerCase().replace(/[^a-z0-9]/g,"")} ${b===n?"selected":""}`,onClick:()=>c(n),style:{animationDelay:`${a*.1}s`},"data-testid":`subtopic-button-${n.toLowerCase().replace(/[^a-z0-9]/g,"")}`,"aria-pressed":b===n,children:r.jsx("span",{className:"subtopic-name",children:n})},n)),r.jsxs("button",{className:"btn-secondary general-category-button",onClick:()=>c(null),style:{animationDelay:`${i.length*.1}s`},children:["General ",s]})]})]})};export{S as default};
//# sourceMappingURL=SubTopicReveal-Bub1U45F.js.map
