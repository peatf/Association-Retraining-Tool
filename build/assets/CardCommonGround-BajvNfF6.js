import{u as j,r as s,j as e,S as P,E as v,B as y,c as E}from"./index-BZrIClkH.js";const T=({onComplete:m})=>{const{canvasState:n,updateCanvasState:d}=j(),[r,p]=s.useState([]),[u,a]=s.useState(!0),[c,g]=s.useState(null),[i,x]=s.useState(""),[h,l]=s.useState(0);s.useEffect(()=>{const t=async()=>{try{a(!0);const o=await E.getMiningPrompts(n.selectedTopic||"","commonGround");p(o),a(!1)}catch(o){g(o instanceof Error?o:new Error("Unknown error")),a(!1)}};n.selectedTopic&&t()},[n.selectedTopic]);const f=()=>{d({miningResults:{...n.miningResults,commonGround:{reflection:i,timestamp:new Date().toISOString()}}}),m()};if(u)return e.jsx(P,{message:"Loading prompts..."});if(c)return e.jsx(v,{title:"Error loading prompts",message:c.message});const S=()=>{l(t=>(t+1)%r.length)},C=()=>{l(t=>(t-1+r.length)%r.length)};return e.jsx(y,{title:"Find Common Ground",onComplete:f,completionText:"Continue",children:e.jsxs("div",{style:{padding:"1rem"},children:[e.jsx("p",{children:r[h]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"1rem"},children:[e.jsx("button",{className:"btn-secondary",onClick:C,children:"Previous"}),e.jsx("button",{className:"btn-secondary",onClick:S,children:"Next"})]}),e.jsx("textarea",{value:i,onChange:t=>x(t.target.value),placeholder:"Your reflections...",style:{width:"100%",minHeight:"100px",marginTop:"1rem"}})]})})};export{T as default};
//# sourceMappingURL=CardCommonGround-BajvNfF6.js.map
