import{r as t,j as a,S as x,E as b}from"./main-ChZ8bRsW.js";import{c as j}from"./ContentSearchService-DqsTnI7q.js";const w=({onTopicSelect:c,selectedTopic:l})=>{const[d,p]=t.useState([]),[u,s]=t.useState(!0),[n,o]=t.useState(null),m=e=>({Money:"üí∞",Relationships:"üíï","Self-Image":"ü™û",Romance:"üíï"})[e]||"üîπ",g=e=>({Money:"Financial concerns, scarcity, and abundance mindset",Relationships:"Connection, trust, boundaries, intimacy","Self-Image":"Self-worth, confidence, and personal identity",Romance:"Dating, relationships, and emotional connections"})[e]||`Work on ${e.toLowerCase()} related concerns`,i=t.useMemo(()=>async()=>{try{s(!0);const e=await j.getCategories();if(e.length===0)throw new Error("No categories found");p(e),o(null)}catch(e){console.error("Error loading categories:",e),o(e instanceof Error?e.message:"Unknown error"),p(["Money","Relationships","Self-Image"])}finally{s(!1)}},[]);t.useEffect(()=>{i()},[i]);const f=e=>{c&&c(e)},h=()=>{o(null),s(!0),i()};return u?a.jsx(x,{message:"Loading categories...","aria-label":"Loading available topic categories"}):n&&d.length===0?a.jsx(b,{title:"Failed to Load Categories",message:n,onRetry:h,retryText:"Try Again"}):a.jsxs("div",{className:"topic-selector",children:[a.jsx("div",{id:"topic-buttons",className:"topic-buttons",children:d.map((e,r)=>a.jsxs("button",{className:`btn-primary topic-button topic-${e.toLowerCase().replace(/[^a-z0-9]/g,"")} ${l===e?"selected":""}`,onClick:()=>f(e),style:{animationDelay:`${r*.1}s`},"data-testid":`topic-button-${e.toLowerCase().replace(/[^a-z0-9]/g,"")}`,"aria-pressed":l===e,"aria-describedby":`topic-desc-${e.toLowerCase().replace(/[^a-z0-9]/g,"")}`,children:[a.jsx("span",{className:"topic-icon","aria-hidden":"true",children:m(e)}),a.jsx("span",{className:"topic-name",children:e}),a.jsx("span",{className:"topic-description",id:`topic-desc-${e.toLowerCase().replace(/[^a-z0-9]/g,"")}`,children:g(e)})]},e))}),n&&a.jsx("div",{className:"fallback-notice",role:"status","aria-live":"polite",children:a.jsx("small",{children:"‚ö†Ô∏è Using fallback categories due to loading error"})})]})};export{w as default};
//# sourceMappingURL=TopicSelector-XgJJ_Sr1.js.map
