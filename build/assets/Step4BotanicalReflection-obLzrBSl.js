import{a as b,r as h,j as t,m as n}from"./index-BZrIClkH.js";const w=()=>{const{gardenState:i,startMiningPhase:l,completeMiningPhase:u,updateFlowerState:d}=b(),[a,p]=h.useState(""),[o,c]=h.useState(i.currentMiningPhase),g=[{id:1,title:"Neutral Observation",icon:"/assets/icon_magnifying_glass.png",description:"Let's examine this thought with curiosity, not judgment",prompt:"What do you notice about this thought when you observe it without trying to change it?",type:"neutralize"},{id:2,title:"Root Purpose",icon:"/assets/icon_watering_can.png",description:"What protective purpose might this thought serve?",prompt:"Even difficult thoughts often try to protect us in some way. What might this thought be trying to protect you from?",type:"commonGround"},{id:3,title:"New Growth Perspective",icon:"/assets/icon_pruning_shears.png",description:"How might we nurture a more compassionate view?",prompt:"If you could speak to yourself with the same kindness you'd show a good friend, what would you say about this situation?",type:"dataExtraction"}],r=g[o-1],x=()=>{const e={phase:o,type:r.type,userInput:a,selectedPrompts:[r.prompt],timestamp:new Date().toISOString(),completed:!0};u(e),o===1?(d("neutral"),c(2),l(2)):o===2&&(d("fullbloom"),c(3),l(3)),p("")},m=()=>{const e=i.selectedTopic||"money",s=i.flowerState;return`/assets/flower_${e}_${s}.png`},y=i.selectedTopic?`/assets/field_${i.selectedTopic}_bg.png`:"/assets/field_money_bg.png";return t.jsxs("div",{className:"garden-step garden-step-botanical",style:{position:"relative",width:"100%",height:"100%",overflow:"hidden"},children:[t.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundImage:`url(${y})`,backgroundSize:"cover",backgroundPosition:"center",filter:"blur(5px) brightness(0.85)",zIndex:"var(--z-garden-background)"}}),t.jsx("div",{style:{position:"relative",zIndex:"var(--z-garden-interactive)",display:"flex",alignItems:"center",justifyContent:"center",height:"100%",padding:"40px"},children:t.jsxs("div",{style:{display:"flex",gap:"60px",alignItems:"center",maxWidth:"1200px",width:"100%",flexWrap:"wrap",justifyContent:"center"},children:[t.jsxs(n.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.8},style:{position:"relative",textAlign:"center"},children:[t.jsx(n.img,{src:m(),alt:`${i.selectedTopic} flower in ${i.flowerState} state`,initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5},style:{width:"200px",height:"200px",objectFit:"contain",filter:"drop-shadow(0 10px 30px rgba(0,0,0,0.3))"}},i.flowerState),o===2&&t.jsx(n.div,{initial:{scaleY:0,opacity:0},animate:{scaleY:1,opacity:1},transition:{duration:1,delay:.5},style:{position:"absolute",bottom:"-20px",left:"50%",transform:"translateX(-50%)",width:"100px",height:"60px",backgroundImage:"url(/assets/flower_roots_static.png)",backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center top",transformOrigin:"top center"}})]}),t.jsxs(n.div,{initial:{x:50,opacity:0},animate:{x:0,opacity:1},transition:{duration:.8,delay:.3},style:{background:"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(20px)",padding:"40px",borderRadius:"20px",boxShadow:"0 20px 60px rgba(0,0,0,0.3)",maxWidth:"500px",width:"100%"},children:[t.jsxs("div",{style:{textAlign:"center",marginBottom:"30px"},children:[t.jsx("img",{src:r.icon,alt:r.title,style:{width:"60px",height:"60px",marginBottom:"16px",filter:"drop-shadow(0 4px 12px rgba(0,0,0,0.2))"}}),t.jsx("h2",{style:{margin:0,marginBottom:"8px",fontSize:"1.8rem",color:"var(--garden-night-primary)",fontWeight:400},children:r.title}),t.jsx("p",{style:{margin:0,fontSize:"1rem",color:"var(--garden-night-secondary)",opacity:.8},children:r.description})]}),t.jsx("div",{style:{display:"flex",justifyContent:"center",gap:"12px",marginBottom:"30px"},children:g.map((e,s)=>t.jsx("div",{style:{width:"12px",height:"12px",borderRadius:"50%",background:s+1<=o?"var(--garden-glow-bright)":"rgba(0,0,0,0.2)",transition:"all 0.3s ease"}},e.id))}),t.jsx("div",{style:{marginBottom:"24px"},children:t.jsx("p",{style:{margin:0,marginBottom:"16px",fontSize:"1.1rem",color:"var(--garden-night-primary)",fontWeight:500,lineHeight:1.4},children:r.prompt})}),t.jsx("textarea",{value:a,onChange:e=>p(e.target.value),placeholder:"Share your thoughts here...",style:{width:"100%",height:"120px",padding:"16px",border:"2px solid rgba(0,0,0,0.1)",borderRadius:"12px",fontSize:"1rem",fontFamily:"inherit",resize:"vertical",marginBottom:"24px",background:"rgba(255,255,255,0.9)"},onFocus:e=>{e.target.style.borderColor="var(--garden-glow-bright)",e.target.style.boxShadow="0 0 0 3px rgba(180,200,255,0.2)"},onBlur:e=>{e.target.style.borderColor="rgba(0,0,0,0.1)",e.target.style.boxShadow="none"}}),t.jsx("div",{style:{textAlign:"center"},children:t.jsx("button",{onClick:x,disabled:!a.trim(),className:"garden-button",style:{background:a.trim()?"var(--garden-night-primary)":"rgba(0,0,0,0.3)",color:"white",border:"none",padding:"12px 32px",borderRadius:"12px",fontSize:"1rem",fontWeight:500,cursor:a.trim()?"pointer":"not-allowed",transition:"all 0.3s ease"},children:o===3?"Complete Reflection":"Continue to Next Phase"})})]})]})}),t.jsxs(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5,duration:.8},style:{position:"absolute",top:"30px",left:"50%",transform:"translateX(-50%)",background:"rgba(0, 0, 0, 0.8)",color:"var(--garden-moonlight)",padding:"16px 24px",borderRadius:"12px",maxWidth:"80%",textAlign:"center",zIndex:"var(--z-garden-ui-base)"},children:[t.jsx("p",{style:{margin:0,fontSize:"0.9rem",opacity:.7},children:"Reflecting on:"}),t.jsxs("p",{style:{margin:0,marginTop:"4px",fontSize:"1rem",fontStyle:"italic"},children:['"',i.userThought,'"']})]})]})};export{w as default};
//# sourceMappingURL=Step4BotanicalReflection-obLzrBSl.js.map
