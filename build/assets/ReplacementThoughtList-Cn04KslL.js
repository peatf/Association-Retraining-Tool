import{r as i,j as e,S as x,E as j}from"./main-ChZ8bRsW.js";import{c as N}from"./ContentSearchService-DqsTnI7q.js";const S=({category:l,subcategory:s=null,intensity:r=10,onThoughtSelect:m,selectedThought:a})=>{const[o,h]=i.useState([]),[p,c]=i.useState(!1),[u,d]=i.useState(null);i.useEffect(()=>{(async()=>{if(!l){h([]);return}try{c(!0),d(null);const t=await N.getReplacementThoughts(l,s,r);h(t),t.length===0&&console.warn(`No replacement thoughts found for ${l}${s?` > ${s}`:""}`)}catch(t){console.error("Error loading replacement thoughts:",t),d(t instanceof Error?t.message:"Unknown error"),h([])}finally{c(!1)}})()},[l,s,r]);const f=n=>{m&&m(n)};if(!l)return null;if(p)return e.jsx(x,{message:"Loading replacement thoughts...","aria-label":"Loading better-feeling thoughts for your selection"});const g=()=>{d(null),c(!0)};return u?e.jsx(j,{title:"Error loading replacement thoughts",message:u,onRetry:g,retryText:"Try Again"}):o.length===0?e.jsxs("div",{className:"replacement-thought-list empty",children:[e.jsx("h3",{children:"No replacement thoughts available"}),e.jsxs("p",{children:["No replacement thoughts found for ",l,s&&` > ${s}`," at intensity level ",r,"."]}),e.jsx("div",{className:"empty-actions",children:e.jsx("button",{className:"btn-secondary",onClick:()=>window.location.reload(),children:"Refresh"})})]}):e.jsxs("div",{className:"replacement-thought-list",children:[e.jsxs("h3",{children:["Better-feeling thoughts for ",l,s&&` > ${s}`]}),r<10&&e.jsx("div",{className:"intensity-filter-info",role:"status","aria-live":"polite",children:e.jsxs("small",{children:["Showing thoughts for intensity level â‰¤ ",r]})}),e.jsx("div",{className:"thought-buttons",children:o.map((n,t)=>e.jsx("button",{className:`btn-primary thought-button ${a===n?"selected":""}`,onClick:()=>f(n),style:{animationDelay:`${t*.1}s`},"data-testid":`thought-button-${t}`,"aria-pressed":a===n,title:n,children:e.jsx("span",{className:"thought-text",children:n})},t))}),e.jsxs("div",{className:"thought-list-footer",children:[e.jsxs("small",{children:["Found ",o.length," replacement thought",o.length!==1?"s":""]}),a&&e.jsx("button",{className:"btn-primary",onClick:()=>{navigator.clipboard.writeText(a),alert("Copied to clipboard!")},children:"Export Selected Thought"})]})]})};export{S as default};
//# sourceMappingURL=ReplacementThoughtList-Cn04KslL.js.map
